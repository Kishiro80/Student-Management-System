(self["webpackChunkstudentmgmt_v3"]=self["webpackChunkstudentmgmt_v3"]||[]).push([[35],{1429:(e,t,l)=>{"use strict";l.d(t,{e:()=>s});var a=l(52),i=l.n(a);const s=async e=>{console.log(e);let t=url+"teachsub.php";try{var l=await i().post(t,e);return l.data}catch(a){console.error(a)}}},6803:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>We});var a=l(3673),i=l(2323);const s={id:"q-app"},n={class:"q-pa-md"},d={class:"row q-col-gutter-sm"},o={class:"col"},u=(0,a.Wm)("div",{class:"q-pa-sm q-gutter-sm"},null,-1),m={key:1,class:"column",outline:""},r=(0,a.Wm)("div",{class:"text-h6"},"Update Student mark",-1),c=(0,a.Uk)("Student Name"),h={class:"text-h6"},w=(0,a.Uk)("Markah Perperiksaan Awal Tahun"),p=(0,a.Uk)("Markah Perperiksaan Pertengahan Tahun"),g=(0,a.Uk)("Markah Perperiksaan Akhir Tahun"),f={class:"col-12 text-center q-pa-md"},W=(0,a.Wm)("div",{class:"text-caption"},"Name",-1),_={class:"text-h6"},I=(0,a.Wm)("br",null,null,-1),b=(0,a.Wm)("div",{class:"text-caption"},"Student ID",-1),x={class:"text-h6"},v=(0,a.Wm)("br",null,null,-1),k=(0,a.Wm)("div",{class:"text-caption"},"Alamat",-1),q={class:"text-h6"},S=(0,a.Wm)("br",null,null,-1),T=(0,a.Wm)("div",{class:"text-caption"},"No Telefon",-1),y={class:"text-h6"},C=(0,a.Wm)("br",null,null,-1),A=(0,a.Wm)("div",{class:"text-caption"},"Class",-1),D={class:"text-h6"},V=(0,a.Wm)("br",null,null,-1),Q=(0,a.Wm)("div",{class:"text-caption"},"Exam 1",-1),Z={class:"text-h6"},z=(0,a.Wm)("br",null,null,-1),U=(0,a.Wm)("div",{class:"text-caption"},"Exam 2",-1),j={class:"text-h6"},F=(0,a.Wm)("br",null,null,-1),R=(0,a.Wm)("div",{class:"text-caption"},"Exam 3",-1),$={class:"text-h6"},N=(0,a.Wm)("br",null,null,-1);function O(e,t,l,O,E,P){const L=(0,a.up)("q-icon"),J=(0,a.up)("q-input"),M=(0,a.up)("q-tooltip"),B=(0,a.up)("q-btn"),G=(0,a.up)("q-chip"),H=(0,a.up)("q-td"),K=(0,a.up)("q-btn-group"),Y=(0,a.up)("q-item-label"),X=(0,a.up)("q-item-section"),ee=(0,a.up)("q-item"),te=(0,a.up)("q-list"),le=(0,a.up)("q-card"),ae=(0,a.up)("q-table"),ie=(0,a.up)("q-card-section"),se=(0,a.up)("q-separator"),ne=(0,a.up)("q-form"),de=(0,a.up)("q-card-actions"),oe=(0,a.up)("q-dialog"),ue=(0,a.up)("q-avatar"),me=(0,a.up)("q-page"),re=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(me,{class:"row"},{default:(0,a.w5)((()=>[(0,a.Wm)("div",s,[(0,a.Wm)("div",n,[(0,a.Wm)("div",d,[(0,a.Wm)("div",o,[(0,a.Wm)(ae,{flat:"",bordered:"",class:"statement-table",title:"Student List",rows:E.Studentlist,columns:E.columns,"hide-header":"grid"===E.mode,"row-key":"__index",grid:"grid"==E.mode,filter:E.filter,"virtual-scroll":"",pagination:E.pagination,"onUpdate:pagination":t[3]||(t[3]=e=>E.pagination=e),"rows-per-page-options":[0]},{"top-right":(0,a.w5)((l=>[(0,a.Wm)(J,{outlined:"",dense:"",debounce:"300",modelValue:E.filter,"onUpdate:modelValue":t[1]||(t[1]=e=>E.filter=e),placeholder:"Search"},{append:(0,a.w5)((()=>[(0,a.Wm)(L,{name:"search"})])),_:1},8,["modelValue"]),(0,a.Wm)(B,{flat:"",round:"",dense:"",icon:l.inFullscreen?"fullscreen_exit":"fullscreen",onClick:e=>P.setFs(l)},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(M,{disable:e.$q.platform.is.mobile},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(l.inFullscreen?"Exit Fullscreen":"Toggle Fullscreen"),1)])),_:2},1032,["disable"]),[[re]])])),_:2},1032,["icon","onClick"]),(0,a.Wm)(B,{flat:"",round:"",dense:"",icon:"grid"===E.mode?"list":"grid_on",onClick:t[2]||(t[2]=e=>E.mode="grid"===E.mode?"list":"grid")},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(M,{disable:e.$q.platform.is.mobile},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)("grid"===E.mode?"List":"Grid"),1)])),_:1},8,["disable"]),[[re]])])),_:1},8,["icon"]),u])),"body-cell-status":(0,a.w5)((e=>[(0,a.Wm)(H,{props:e},{default:(0,a.w5)((()=>[(0,a.Wm)(G,{color:"Active"===e.row.status?"green":"Disable"===e.row.status?"red":"grey","text-color":"white",dense:"",class:"text-weight-bolder",square:""},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(e.row.status),1)])),_:2},1032,["color"])])),_:2},1032,["props"])])),"body-cell-action":(0,a.w5)((e=>[(0,a.Wm)(H,{class:"text-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(K,{outline:""},{default:(0,a.w5)((()=>[(0,a.Wm)(B,{size:"0.75rem",outline:"",color:"primary",field:"edit",icon:"edit",label:"Edit",onClick:t=>P.editItem(e.row)},null,8,["onClick"]),(0,a.Wm)(B,{size:"0.75rem",outline:"",color:"primary",label:"View",icon:"visibility",onClick:t=>P.ViewRow(e.row)},null,8,["onClick"])])),_:2},1024)])),_:2},1024)])),item:(0,a.w5)((e=>[(0,a.Wm)("div",{class:"q-pa-xs col-xs-12 col-sm-6 col-md-4 col-lg-3 grid-style-transition",style:e.selected?"transform: scale(0.95);":""},[(0,a.Wm)(le,{class:e.selected?"bg-grey-2":""},{default:(0,a.w5)((()=>[(0,a.Wm)(te,{dense:""},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.j4)(a.HY,null,(0,a.Ko)(e.cols,(t=>((0,a.wg)(),(0,a.j4)(ee,{key:t.name},{default:(0,a.w5)((()=>[(0,a.Wm)(X,null,{default:(0,a.w5)((()=>[(0,a.Wm)(Y,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(t.label),1)])),_:2},1024)])),_:2},1024),(0,a.Wm)(X,{side:""},{default:(0,a.w5)((()=>["status"===t.name?((0,a.wg)(),(0,a.j4)(G,{key:0,color:"Active"==e.row.status?"green":"Disable"==e.row.status?"red":"grey","text-color":"white",dense:"",class:"text-weight-bolder",square:""},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(t.value),1)])),_:2},1032,["color"])):"action"===t.name?((0,a.wg)(),(0,a.j4)("div",m,[(0,a.Wm)(B,{class:"q-ma-xs",size:"0.6rem",outline:"",color:"primary",field:"edit",icon:"edit",label:"Edit",onClick:t=>P.editItem(e.row)},null,8,["onClick"]),(0,a.Wm)(B,{class:"q-ma-xs",size:"0.6rem",outline:"",color:"primary",label:"View",icon:"visibility",onClick:t=>P.ViewRow(e.row)},null,8,["onClick"])])):((0,a.wg)(),(0,a.j4)(Y,{key:2,caption:"",class:t.classes?t.classes:""},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(t.value),1)])),_:2},1032,["class"]))])),_:2},1024)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1032,["class"])],4)])),_:1},8,["rows","columns","hide-header","grid","filter","pagination"])])]),(0,a.Wm)(oe,{modelValue:E.show_dialog,"onUpdate:modelValue":t[7]||(t[7]=e=>E.show_dialog=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(le,{style:{width:"600px","max-width":"60vw"}},{default:(0,a.w5)((()=>[(0,a.Wm)(ie,null,{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(B,{round:"",flat:"",dense:"",icon:"close",class:"float-right",color:"grey-8"},null,512),[[re]]),r])),_:1}),(0,a.Wm)(se,{inset:""}),(0,a.Wm)(ie,{class:"q-pt-none"},{default:(0,a.w5)((()=>[(0,a.Wm)(ne,{class:"q-gutter-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(te,null,{default:(0,a.w5)((()=>[(0,a.Wm)(ee,null,{default:(0,a.w5)((()=>[(0,a.Wm)(X,null,{default:(0,a.w5)((()=>[(0,a.Wm)(Y,{class:"q-pb-xs"},{default:(0,a.w5)((()=>[c])),_:1}),(0,a.Wm)("div",h,(0,i.zw)(E.editedItem.name),1)])),_:1})])),_:1}),(0,a.Wm)(ee,null,{default:(0,a.w5)((()=>[(0,a.Wm)(X,null,{default:(0,a.w5)((()=>[(0,a.Wm)(Y,{class:"q-pb-xs"},{default:(0,a.w5)((()=>[w])),_:1}),(0,a.Wm)(J,{dense:"",outlined:"",modelValue:E.editedItem.Awal_Tahun,"onUpdate:modelValue":t[4]||(t[4]=e=>E.editedItem.Awal_Tahun=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(ee,null,{default:(0,a.w5)((()=>[(0,a.Wm)(X,null,{default:(0,a.w5)((()=>[(0,a.Wm)(Y,{class:"q-pb-xs"},{default:(0,a.w5)((()=>[p])),_:1}),(0,a.Wm)(J,{dense:"",outlined:"",modelValue:E.editedItem.Tengah_Tahun,"onUpdate:modelValue":t[5]||(t[5]=e=>E.editedItem.Tengah_Tahun=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(ee,null,{default:(0,a.w5)((()=>[(0,a.Wm)(X,null,{default:(0,a.w5)((()=>[(0,a.Wm)(Y,{class:"q-pb-xs"},{default:(0,a.w5)((()=>[g])),_:1}),(0,a.Wm)(J,{dense:"",outlined:"",modelValue:E.editedItem.Akhir_Tahun,"onUpdate:modelValue":t[6]||(t[6]=e=>E.editedItem.Akhir_Tahun=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.Wm)(ie,null,{default:(0,a.w5)((()=>[(0,a.Wm)(de,{align:"right"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(B,{flat:"",label:"Cancel",color:"warning",dense:""},null,512),[[re]]),(0,a.wy)((0,a.Wm)(B,{flat:"",label:"OK",color:"primary",dense:"",onClick:P.updateRow},null,8,["onClick"]),[[re]])])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])]),(0,a.Wm)("div",null,[(0,a.Wm)(oe,{modelValue:E.view,"onUpdate:modelValue":t[8]||(t[8]=e=>E.view=e),class:"q-pa-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(le,{class:"row my-card q-pa-md"},{default:(0,a.w5)((()=>[(0,a.Wm)("div",f,[(0,a.Wm)(ue,{size:"80px",color:"teal","text-color":"white",icon:"person"})]),(0,a.Wm)(ie,{class:"col-6"},{default:(0,a.w5)((()=>[W,(0,a.Wm)("div",_,(0,i.zw)(E.editedItem.name),1),I,b,(0,a.Wm)("div",x,(0,i.zw)(E.editedItem.StudentID),1),v,k,(0,a.Wm)("div",q,(0,i.zw)(E.editedItem.address),1),S,T,(0,a.Wm)("div",y,(0,i.zw)(E.editedItem.contact),1),C])),_:1}),(0,a.Wm)(ie,{class:"col-6"},{default:(0,a.w5)((()=>[A,(0,a.Wm)("div",D,(0,i.zw)(e.getclass[P.Sid].Class),1),V,Q,(0,a.Wm)("div",Z,(0,i.zw)(E.editedItem.Awal_Tahun),1),z,U,(0,a.Wm)("div",j,(0,i.zw)(E.editedItem.Tengah_Tahun),1),F,R,(0,a.Wm)("div",$,(0,i.zw)(E.editedItem.Akhir_Tahun),1),N])),_:1})])),_:1})])),_:1},8,["modelValue"])])])),_:1})}var E=l(515),P=l.n(E),L=(l(7280),l(7874)),J=l(1429),M=l(1959);const B={computed:P()(P()({},(0,L.Se)({UD:"auth/user",type:"auth/usertype",getclass:"general/getclass"})),{},{Sid(){return String(this.CSID)}}),setup(){return{card:(0,M.iH)(!1)}},props:{CSID:{type:Number,default:0,required:!0}},data(){return{defaultItem:{Akhir_Tahun:0,Awal_Tahun:0,CSID:0,ClassID:0,StudentID:0,SubID:0,Subject:"",Tengah_Tahun:100,name:""},inFs:!1,columns:[{name:"name",required:!0,label:"Student Name",align:"left",field:e=>e.name,format:e=>`${e}`,sortable:!0},{name:"Awal_Tahun",label:"Awal Tahun",field:"Awal_Tahun",sortable:!0,sort:(e,t)=>parseInt(e,10)-parseInt(t,10)},{name:"Tengah_Tahun",label:"Tengah Tahun",field:"Tengah_Tahun",sortable:!0,sort:(e,t)=>parseInt(e,10)-parseInt(t,10)},{name:"Akhir_Tahun",label:"Akhir Tahun",field:"Akhir_Tahun",sortable:!0,sort:(e,t)=>parseInt(e,10)-parseInt(t,10)},{name:"action",label:"Actions",field:"",align:"center"}],Studentlist:[{Akhir_Tahun:90,Awal_Tahun:90,CSID:25,ClassID:11,StudentID:1,SubID:4,Subject:"English",Tengah_Tahun:100,name:"bruh"}],noti:()=>{},show_dialog:!1,editedIndex:-1,editedItem:this.defaultItem,filter:"",mode:"list",pagination:{page:1},page:1,totalRecord:0,pageCount:1,view:!1}},updated(){console.log("uu"),this.refresh()},created(){console.log("cc"),this.refresh()},methods:{refresh(){console.log(this.CSID);var e={Action:2,ID:this.CSID};console.log(e),(0,J.e)(e).then((t=>{console.log(t),"Success"==t.msg&&(e=JSON.parse(t.data),console.log(e),this.Studentlist=e)}))},editRow(e){this.noti(),this.noti=this.$q.notify({type:"info",textColor:"grey-10",multiLine:!0,message:`I'll edit row data => ${JSON.stringify(e.row).split(",").join(", ")}`,timeout:2e3})},deleteRow(e){this.noti(),this.noti=this.$q.notify({type:"negative",multiline:!0,message:`I'll delete row data => ${JSON.stringify(e.row).split(",").join(", ")}`,timeout:2e3})},addRow(){this.editedIndex>-1?Object.assign(this.Studentlist[this.editedIndex],this.editedItem):this.Studentlist.push(this.editedItem),this.close()},deleteItem(e){const t=this.Studentlist.indexOf(e);confirm("Are you sure you want to delete this item?")&&this.Studentlist.splice(t,1)},editItem(e){this.editedIndex=this.Studentlist.findIndex(((t,l)=>t.__index===e.__index)),this.editedItem=Object.assign({},e),this.show_dialog=!0},close(){this.show_dialog=!1,setTimeout((()=>{this.editedItem=this.defaultItem,this.editedIndex=-1}),300)},setFs(e){e.toggleFullscreen(),this.inFs=e.inFullscreen},updateRow(){console.log(this.CSID);var e={Action:4,ID:this.editedItem.StudentID,SubID:this.editedItem.SubID,comment:this.editedItem.Awal_Tahun,given:this.editedItem.Tengah_Tahun,due:this.editedItem.Akhir_Tahun};console.log(e),(0,J.e)(e).then((e=>{console.log(e),"Success"==e.msg&&console.log("Success")})),this.Studentlist[this.editedIndex]=this.editedItem,this.$q.notify({type:"positive",message:`Item '${this.editedItem.name}' updated.`,timeout:500})},ViewRow(e){this.view=!0,this.editedIndex=this.Studentlist.findIndex(((t,l)=>t.__index===e.__index)),this.editedItem=Object.assign({},e)},CloseView(){this.view=!1,setTimeout((()=>{this.editedItem=this.defaultItem,this.editedIndex=-1}),300)}}};var G=l(4379),H=l(6952),K=l(4842),Y=l(4554),X=l(8240),ee=l(8870),te=l(3884),le=l(7030),ae=l(6375),ie=l(151),se=l(7011),ne=l(3414),de=l(2035),oe=l(2350),ue=l(6778),me=l(5589),re=l(5869),ce=l(5269),he=l(9367),we=l(5096),pe=l(677),ge=l(7518),fe=l.n(ge);B.render=O;const We=B;fe()(B,"components",{QPage:G.Z,QTable:H.Z,QInput:K.Z,QIcon:Y.Z,QBtn:X.Z,QTooltip:ee.Z,QTd:te.Z,QChip:le.Z,QBtnGroup:ae.Z,QCard:ie.Z,QList:se.Z,QItem:ne.Z,QItemSection:de.Z,QItemLabel:oe.Z,QDialog:ue.Z,QCardSection:me.Z,QSeparator:re.Z,QForm:ce.Z,QCardActions:he.Z,QAvatar:we.Z}),fe()(B,"directives",{ClosePopup:pe.Z})}}]);